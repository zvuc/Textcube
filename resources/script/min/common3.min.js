function compareVersions(e,n){var t=e.split("."),i=n.split(".");if(t.length>i.length)for(var o=0;o<t.length-i.length;o++)i.push("0");else if(t.length<i.length)for(var o=0;o<i.length-t.length;o++)t.push("0");for(var o=0;o<t.length;o++){if(t[o]<i[o])return-1;if(t[o]>i[o])return 1}return 0}function analysis(e,n){try{if(void 0==n){var t="";for(var i in e)t+=i+"		:"+e[i]+"\n";return t}if(n="w"){var t='<table  cellspacing="0">';for(var i in e)t+="<tr>",t+="<td>"+i+"</td><td>",t+=e[i],t+="</td>",t+="</tr>";return t+="</table>"}}catch(o){}}function trace(e,n){if(result=analysis(e,n),void 0==n)alert(result);else if(n="w"){var t=window.open("","traceWin");t.document.write(result)}}function openLinkInNewWindow(e){if(e){var n=e.getAttribute("href");if(n)return window.open(n),!1}return!0}function toggleLayer(e){try{var n=document.getElementById(e);n.style.display="none"==n.style.display?"block":"none"}catch(t){}return!0}function focusLayer(e,n){try{var t=document.getElementById(e);t.style.display="block";for(x in n)if(n[x]!=e){var t=document.getElementById(n[x]);t.style.display="none"}}catch(i){}return!0}function showLayer(e){return document.getElementById(e).style.display="block",!0}function hideLayer(e){return document.getElementById(e).style.display="none",!0}function findFormObject(e){for(var n=e;n;n=n.parentNode)if("FORM"==n.nodeName)return n;return null}function trim(e){for(var n=0,t=e.length,i=0;i<e.length;i++)if(" "!=e.charAt(i)){n=i;break}for(var i=e.length-1;i>=0;i--)if(" "!=e.charAt(i)){t=i+1;break}return e.substring(n,t)}function checkValue(e,n){try{return 0==e.value.length?(alert(n),e.focus(),!1):!0}catch(t){return!1}}function trimAll(e){try{for(var n=0;n<e.elements.length;n++){e.elements[n].tagName.toLowerCase(),e.elements[n].type}return!0}catch(t){alert(t.message)}}function openKeyword(e){window.open(e,"keyword","width=570,height=650,location=0,menubar=0,resizable=1,scrollbars=1,status=0,toolbar=0")}function beginProgress(){endProgress(),oProgress=document.createElement("span"),oProgress.style.position="absolute",oProgress.style.left="0px",oProgress.style.top="0px",oProgress.style.backgroundColor="#FFFF99",oProgress.innerText="???..",document.body.appendChild(oProgress)}function endProgress(){oProgress&&(document.body.removeChild(oProgress),oProgress=null)}function createHttp(){try{return new XMLHttpRequest}catch(e){for(var n=["MSXML2.XMLHTTP.5.0","MSXML2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],t=0;t<n.length;t++)try{return new ActiveXObject(n[t])}catch(e){}return null}}function getResponse(e,n){try{loading=!0;var t=(document.body,createHttp());if(-1==e.indexOf("?")?aux="?":aux="&",t.open("POST",e+aux+"time="+(new Date).getTime(),!1),void 0==n?n="":t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send(n),result=new Array,isSafari||isOpera){resultNodes=t.responseXML.firstChild.childNodes;for(var i=0;i<resultNodes.length;i++)null!=resultNodes.item(i).firstChild&&(result[resultNodes.item(i).nodeName]=resultNodes.item(i).firstChild.nodeValue);return loading=!1,delete t,result}if(isIE){resultNodes=t.responseXML.documentElement.childNodes,result=new Array;for(var i=0;i<resultNodes.length;i++)result[resultNodes[i].nodeName]=resultNodes[i].text;return loading=!1,delete t,result}loading=!1;var o=t.responseXML.selectNodes("/response/descendant::*");return delete t,o}catch(r){alert("exception"),loading=!1;var s=(document.getElementsByName("body"),document.createElement("div"));return document.body.appendChild(s),s.innerHTML='<iframe src="'+e+'"style="display:none" onload="location.href=location.href"></iframe>',!1}}function requestHttp(e){try{var n=createHttp();if(n.open("GET",e+"&time="+(new Date).getTime(),!1),n.send(""),isSafari||isOpera){var t=n.responseXML.firstChild.firstChild.nextSibling.firstChild.nodeValue;return delete n,t}var t=n.responseXML.selectSingleNode("/response/error").text;return delete n,t}catch(i){window.status=i.messge}}function requestHttpText(e){var n=createHttp();n.open("GET",e+"&time="+(new Date).getTime(),!1),n.send("");var t=n.responseText;return delete n,t}function requestHttpXml(e){var n=createHttp();n.open("GET",e+"&time="+(new Date).getTime(),!1),n.send("");var t=n.responseXML;return delete n,t}function requestPost(e,n){var t=createHttp();t.open("POST",e+"&time="+(new Date).getTime(),!1),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send(n+"&time="+(new Date).getTime());var i=t.responseXML.selectSingleNode("/response/error").text;return delete t,i}function requestPostText(e,n){var t=createHttp();t.open("POST",e+"&time="+(new Date).getTime(),!1),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send(n);var i=t.responseText;return delete t,i}function setRequestBody(e,n,t){var i="";return i+="--"+t+"\r\n",i+='Content-Disposition: form-data; name="'+e+'"\r\n\r\n',i+=n+"\r\n"}function isNull(e,n){return 0==e.value.length?(alert(n+"	"),e.focus(),!0):!1}function open_img(e){img_view=window.open("","TatterImagePopup","width=0, height=0, left=0, top=0, scrollbars=yes, resizable=yes"),img_view.document.write('<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1.0">	<title> :: View :: </title>\n	<meta http-equiv="content-type" content="text/html; charset=utf-8" />\n	<script type="text/javascript">\n	//<![CDATA\n		function getWindowCleintHeight() {\n			return (window.innerHeight != null) ? window.innerHeight : document.documentElement.clientHeight;\n		}\n		function getWindowCleintWidth() {\n			return (window.innerWidth != null) ? window.innerWidth : document.documentElement.clientWidth;\n		}\n		function resize(img) {\n			var imageWidth = img.width+5;\n			var imageHeight = img.height+5;\n			var screenWidth = screen.availWidth;\n			var screenHeight = screen.availHeight;\n			var windowWidth = imageWidth;\n			var windowHeight = imageHeight;\n			var positionX = (screenWidth - imageWidth) / 2;\n			var positionY = (screenHeight - imageHeight) / 2;\n			if(imageWidth > screenWidth * 0.8) {\n				windowWidth = screenWidth * 0.8;\n				document.body.scroll ="yes";\n				positionX = 0;\n			}\n			if(imageHeight > screenHeight * 0.8 ) {\n				windowHeight = screenHeight * 0.8;\n				document.body.scroll ="yes";\n				positionY = 0;\n			}\n              iWidth = windowWidth - getWindowCleintWidth();\n              iHeight = windowHeight - getWindowCleintHeight();\n              window.resizeBy(iWidth, iHeight);\n			window.moveTo(positionX, positionY);\n		}\n		//]]>\n	</script>\n</head>\n<body style="margin: 0px; padding: 0;">\n	<a href="javascript:window.close()"><img src="'+e+'" style="border: 0px; padding: 0; margin:0;" onload="resize(this)" /></a>\n</body>\n</html>');try{img_view.document.close()}catch(n){}try{img_view.document.focus()}catch(n){}}function openFullScreen(e,n,t){try{}catch(i){}img_view=window.open(e,"img_popup","width="+screen.width+",height="+screen.height+",left=0,top=0,scrollbars=no,resizable=yes"),img_view.status=n;try{img_view.document.focus()}catch(i){}}function scroller(e,n){try{var e=document.getElementById(e),t=document.body.scrollTop;status=e.scrollTop+"  "+document.body.scrollTop+"  "+n+" = "+(e.offsetTop-document.body.scrollTop)/n,t+=(e.offsetTop-document.body.scrollTop)/n,document.body.scrollTop==t&&clearInterval(scrollerId),window.scroll(0,t)}catch(i){clearInterval(scrollerId),alert(i.message)}}function eleganceScroll(e,n){void 0==n&&(n=8),scrollerId=window.setInterval("scroller('"+e+"',"+n+")",1e3/30)}function showJukeboxList(e,n){target=document.getElementById("jukeBoxContainer"+e),divTarget=document.getElementById("jukeBox"+e+"Div"),flashTarget=document.getElementById("jukeBox"+e+"Flash"),target.style.height=flashTarget.style.height=divTarget.style.height=n+"px"}function setUserSetting(e,n){var t=new HTTPRequest("POST",blogURL+"/owner/setting/userSetting/set/");t.send("name="+encodeURIComponent(e)+"&value="+encodeURIComponent(n))}function getWindowCleintHeight(){return null!=window.innerHeight?window.innerHeight:document.documentElement.clientHeight}function getWindowCleintWidth(){return null!=window.innerWidth?window.innerWidth:document.documentElement.clientWidth}function getOffsetTop(e){return e?e.offsetTop+getOffsetTop(e.offsetParent):0}function getOffsetLeft(e){return e?e.offsetLeft+getOffsetLeft(e.offsetParent):0}function updateFeed(){var e=createHttp();e&&(e.open("GET",blogURL+"/feeder?"+(new Date).getTime(),!0),e.send(""))}function searchChildNodes(e,n){var t=new Array;if(e.hasChildNodes())for(var i=0;i<e.childNodes.length;i++){var o=e.childNodes[i];if(1==o.nodeType){o.tagName.toUpperCase()==n.toUpperCase()&&(t[t.length]=o);for(var r=searchChildNodes(o,n),s=0;s<r.length;s++)t[t.length]=r[s]}}return t}function getEmbedCode(e,n,t,i,o,r,s,a,l,c,d,m){try{if(void 0==e||void 0==n||void 0==t)return!1;if(void 0==r)var p="",u="";else var p='<param name="FlashVars" value="'+r+'" />',u=' FlashVars="'+r+'" ';if(void 0==s)var g="",f="";else var g='<param name="menu" value="'+s+'" />',f=' menu="'+s+'" ';if(void 0==a)var w="",h="";else var w='<param name="wmode" value="'+a+'" />',h=' wmode="'+a+'" ';if(void 0==l)var v="",y="";else var v='<param name="quality" value="'+l+'" />',y=' quality="'+l+'" ';if(void 0==c)var E="",b="";else var E='<param name="bgcolor" value="'+c+'" />',b=' bgcolor="'+c+'" ';if(void 0==d)var M="",T="";else var M='<param name="allowScriptAccess" value="'+d+'" />',T=' allowScriptAccess="'+d+'" ';if(void 0==i)var x="";else var x='id="'+i+'"';return void 0==m&&(m="7,0,0,0"),STD.isIE?'<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version='+m+'" width="'+n+'" height="'+t+'" '+x+' align="middle"><param name="movie" value="'+e+'" />'+M+p+g+v+E+w+"</object>":"<embed "+x+' type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" src="'+e+'" width="'+n+'" height="'+t+'"'+T+u+f+y+b+h+"/>"}catch(S){return!1}}function writeCode(e,n){e=e.replace('src="','src="'+("https:"==document.location.protocol?"https://":"http://")+document.domain+(document.location.port?":"+document.location.port:"")),void 0==n?document.write(e):document.getElementById(n).innerHTML=e}function writeCode2(e,n){void 0==n?document.write(e):document.getElementById(n).innerHTML=e}function getTagChunks(e,n,t){for(var i=new Array,o=pos2=0;(o=e.indexOfCaseInsensitive(new RegExp("<"+n+"\\s","i"),pos2))>-1;){var r="";do{if(-1==(pos2=e.indexOfCaseInsensitive(new RegExp("</"+n,"i"),Math.max(o,pos2))))return i;pos2+=n.length+3,r=e.substring(o,pos2)}while(""!=r&&r.count(new RegExp("<"+n+"\\s","gi"))!=r.count(new RegExp("</"+n,"gi")));"function"==typeof t&&(r=t(r)),i[i.length]=r}return i}function toggleMoreLess(e,n,t,i){var o=jQuery;if(oMore=document.getElementById("more"+n),oContent=document.getElementById("content"+n),0==t.Length&&(t="more..."),0==i.Length&&(i="less..."),"none"==oContent.style.display){oMore.className="moreless_top",e.innerHTML=i,oLess=document.createElement("P"),oLess.id="less"+n,oLess.className="moreless_bottom";var r=t.replace(/&/g,"&amp;"),s=i.replace(/&/g,"&amp;");oLess.innerHTML='<span style="cursor: pointer;" onclick="toggleMoreLess(this, \''+n+"', '"+r+"', '"+s+"'); return false;\">"+i+"</span>",after=oContent.nextSibling,oContent.parentNode.insertBefore(oLess,after)}else oMore.className="moreless_fold",oMore.childNodes[0].innerHTML=t,oLess=document.getElementById("less"+n),oContent.parentNode.removeChild(oLess);o(oContent).slideToggle({duration:350,easing:"swing"})}function getParentByTagName(e,n){for(;n.tagName!=e.toUpperCase();)n=n.parentNode;return n}function removeItselfById(e){document.getElementById(e).parentNode.removeChild(document.getElementById(e))}function makeQueryStringByForm(e){for(queryString="",tempForm=document.getElementById(e),i=0;i<tempForm.elements.length;i++)if(""!=queryString?linker="&":linker="",1!=tempForm.elements[i].disabled)if("input"==tempForm.elements[i].tagName.toLowerCase())switch(tempForm.elements[i].type){case"checkbox":case"radio":1==tempForm.elements[i].checked&&(queryString+=linker+tempForm.elements[i].name+"="+tempForm.elements[i].value);break;case"text":case"password":queryString+=linker+tempForm.elements[i].name+"="+tempForm.elements[i].value;break;case"file":""!=tempForm.elements[i].value&&(queryString+=linker+tempForm.elements[i].name+"="+tempForm.elements[i].value)}else"select"==tempForm.elements[i].tagName.toLowerCase()?(num=tempForm.elements[i].selectedIndex,queryString+=linker+tempForm.elements[i].name+"="+tempForm.elements[i].options[num].value):"textarea"==tempForm.elements[i].tagName.toLowerCase()&&(queryString+=linker+tempForm.elements[i].name+"="+tempForm.elements[i].value);return queryString}function showMessage(e){PM.showMessage(""+e,"right","bottom")}function preventEnter(e){if(e||(e=window.event),13==e.keyCode){e.returnValue=!1,e.cancelBubble=!0;try{e.preventDefault()}catch(n){}return!1}return!0}function looseURIEncode(e){return e=e.replace(new RegExp("%","g"),"%25"),e=e.replace(new RegExp("\\?","g"),"%3F"),e=e.replace(new RegExp("#","g"),"%23")}function searchBlog(){var e=document.getElementById("TTSearchForm");return e&&e.search&&""!=e.search.value.trim()&&(window.location=blogURL+"/search/"+looseURIEncode(e.search.value)),!1}function processShortcut(e){if(e=STD.event(e),!(e.altKey||e.ctrlKey||e.metaKey)){switch(e.target.nodeName){case"INPUT":case"SELECT":case"TEXTAREA":return}switch(e.keyCode){case 81:window.location=blogURL+"/owner";break;case 82:isReaderEnabled&&(window.location=blogURL+"/owner/network/reader");break;case 84:isReaderEnabled&&(window.location=blogURL+"/owner/network/reader/?forceRefresh");break;case 65:case 72:case 80:prevURL&&(window.location=prevURL);break;case 83:case 76:case 78:nextURL&&(window.location=nextURL);break;case 74:window.scrollBy(0,100);break;case 75:window.scrollBy(0,-100);break;case 90:window.location="#recentEntries";break;case 88:window.location="#recentComments";break;case 67:window.location="#recentTrackbacks"}}}function addComment(e,n){if(1==commentSavingNow)return alert(messages.onSaving),!1;var t=jQuery,i=findFormObject(e);if(!i)return!1;if(void 0!=i.comment_type&&i.comment_type[0].checked&&"openid"==i.comment_type[0].value)return addCommentWithOpenIDAuth(i,n);var o=t(i).serializeArray();o.push({name:"key",value:commentKey}),commentSavingNow=!0,t.ajax({url:t(i).attr("action"),type:"POST",dataType:"xml",data:o,success:function(e,i,o){commentSavingNow=!1;var r=parseInt(t(e).find("response error").text());0==r?(t("#entry"+n+"Comment").html(t(e).find("response commentBlock").text()),null!=getObject("recentComments")&&t("#recentComments").html(t(e).find("response recentCommentBlock").text()),null!=getObject("commentCount"+n)&&t("#commentCount"+n).html(t(e).find("response commentView").text()),null!=getObject("commentCountOnRecentEntries"+n)&&t("#commentCountOnRecentEntries"+n).html(t(e).find("response commentCount").text())):alert(t(e).find("response description").text())},error:function(e,n,t){commentSavingNow=!1,alert("Connection failed.")}})}function addCommentWithOpenIDAuth(e,n){if(!e)return!1;form=document.createElement("form");var t=e.action.split("/");t.pop(),t.pop(),form.action=t.join("/"),form.action+="/addopenid/"+n,form.method="post";var o;for(o=document.createElement("input"),o.type="hidden",o.name="key",o.value=commentKey,form.appendChild(o),o=document.createElement("input"),o.type="hidden",o.name="requestURI",o.value=document.location.href,form.appendChild(o),tempComment="comment_"+n,tempHomepage="homepage_"+n,tempSecret="secret_"+n,i=0;i<e.elements.length;i++)if(1!=e.elements[i].disabled){var r="",s="";if("input"==e.elements[i].tagName.toLowerCase()){switch(e.elements[i].type){case"checkbox":case"radio":1==e.elements[i].checked&&(e.elements[i].name==tempSecret?r=e.elements[i].name:e.elements[i].id==tempSecret?r=e.elements[i].id:""!=e.elements[i].name?r=e.elements[i].name+"_"+n:""!=e.elements[i].id&&(r=e.elements[i].id));break;case"text":case"password":case"hidden":case"button":case"submit":e.elements[i].name==tempHomepage?r=e.elements[i].name:e.elements[i].id==tempHomepage?r=e.elements[i].id:""!=e.elements[i].name?r=e.elements[i].name+"_"+n:""!=e.elements[i].id&&(r=e.elements[i].id)}r&&(s=e.elements[i].value)}else"select"==e.elements[i].tagName.toLowerCase()?(num=e.elements[i].selectedIndex,""!=e.elements[i].name?(r=e.elements[i].name+"_"+n,s=e.elements[i].options[num].value):""!=e.elements[i].id&&(r=e.elements[i].id,s=e.elements[i].options[num].value)):"textarea"==e.elements[i].tagName.toLowerCase()&&(e.elements[i].name==tempComment?(r=e.elements[i].name,s=e.elements[i].value):""!=e.elements[i].name?(r=e.elements[i].name+"_"+n,s=e.elements[i].value):""!=e.elements[i].id&&(r=e.elements[i].id,s=e.elements[i].value));r&&(o=document.createElement("input"),o.type="hidden",o.name=r,o.value=s,form.appendChild(o))}document.body.appendChild(form),form.submit()}function recallLastComment(e,n){alert("Not yet supported.");var t=findFormObject(e);if(!t)return!1;var i=t.action.split("/");i.pop(),i.pop(),i=i.join("/"),i+="/recall?__T__="+(new Date).getTime();var o=new HTTPRequest("POST",i);o.onSuccess=function(){},o.onError=function(){alert(this.getText("/response/description"))}}function loadComment(e,n,t,i){var o;if(1==i){o=1;var r=document.getElementById("entry"+e+"CommentList")}else{o=0;var r=document.getElementById("entry"+e+"Comment")}var s=new HTTPRequest("POST",blogURL+"/comment/load/"+e);(!t&&"none"==r.style.display||t)&&(s.onSuccess=function(){PM.removeRequest(this),r.innerHTML=this.getText("/response/commentBlock")},s.onError=function(){PM.removeRequest(this),PM.showErrorMessage("Loading Failed.","center","bottom")},PM.addRequest(s,"Loading Comments..."),s.send("&page="+n+"&listOnly="+o)),t||(r.style.display="none"==r.style.display?"block":"none")}function openCenteredWindow(e,n,t,i,o){o=o?1:0;try{""!=openWindow&&openWindow.close()}catch(r){}return openWindow=window.open(e,n,"width="+t+",height="+i+",top="+(screen.height/2-i/2)+",left="+(screen.width/2-t/2)+",location=0,menubar=0,resizable=1,scrollbars="+o+",status=0,toolbar=0"),openWindow.focus(),openWindow}function openCenteredDialog(e,n,t,i){var o=jQuery;tcDialog=o("#tcDialog").bPopup({content:"iframe",positionStyle:"fixed",loadUrl:e,transition:"fadeIn",speed:350,modal:!0,modalColor:"#000",opacity:.7,escClose:!1,modalClose:!1,loadCallback:function(){o("#tcDialog iframe").contents().find("#commentSubmit").on("click",function(e){})}}),tcDialogFrame=o("#tcDialog iframe"),tcDialogFrame.attr("name",n),tcDialogFrame.attr("width",t),tcDialogFrame.attr("height",i),tcDialog.reposition()}function closeDialog(){var e=window.location!==window.parent.location?window.parent:window;return e==window?e.close():e.tcDialog.close(),!1}function resizeDialog(e,n,t){var i=window.location!==window.parent.location?window.parent:window;try{1==t&&(e=parseInt(i.tcDialogFrame.attr("width"))+parseInt(e),n=parseInt(i.tcDialogFrame.attr("height"))+parseInt(n)),i.tcDialogFrame.attr("width",e),i.tcDialogFrame.attr("height",n),i.tcDialog.reposition()}catch(o){}}function deleteComment(e){"standard"==workMode||isIE&&!isMinIE8?openCenteredWindow(blogURL+"/comment/delete/"+e,"tatter",460,400):openCenteredDialog(blogURL+"/comment/delete/"+e,"tatter",460,400)}function modifyComment(e){"standard"==workMode||isIE&&!isMinIE8?openCenteredWindow(blogURL+"/comment/modify/"+e,"tatter",460,400):openCenteredDialog(blogURL+"/comment/modify/"+e,"tatter",460,400)}function commentComment(e){"standard"==workMode||isIE&&!isMinIE8?openCenteredWindow(blogURL+"/comment/comment/"+e,"tatter",460,550):openCenteredDialog(blogURL+"/comment/comment/"+e,"tatter",460,550)}function getMoreLineStream(e,n,t){var i=new HTTPRequest("POST",blogURL+"/stream/");i.onSuccess=function(){contentView=this.getText("/response/contentView"),buttonView=this.getText("/response/buttonView"),1==e&&1==n&&(buttonView=""),updateStream(contentView,buttonView,t)},i.onError=function(){},i.send("page="+e+"&lines="+n)}function updateStream(e,n,t){return Ocontent=document.getElementById("line-content"),Pcontent=document.getElementById("line-more-page"),"top"==t?Ocontent.innerHTML=e+Ocontent.innerHTML:Ocontent.innerHTML=Ocontent.innerHTML+e,Pcontent.innerHTML=n,!0}function editEntry(e,n){openCenteredWindow(blogURL+"/owner/entry/edit/"+e+"?popupEditor&returnURL="+n,"tatter",1020,550,!0)}function guestbookComment(e){openCenteredWindow(blogURL+"/comment/comment/"+e,"tatter",460,360)}function sendTrackback(e){openCenteredWindow(blogURL+"/trackback/send/"+e,"tatter",580,400)}function deleteTrackback(e,n){if(!doesHaveOwnership)return void alert(messages.operationFailed);if(confirm(messages.confirmTrackbackDelete)){var t=new HTTPRequest("GET",blogURL+"/trackback/delete/"+e);t.onSuccess=function(){document.getElementById("entry"+n+"Trackback").innerHTML=this.getText("/response/trackbackList"),document.getElementById("entry"+n+"Trackback").style.display="block";try{obj=document.getElementById("trackbackCount"+n),null!=obj&&(obj.innerHTML=this.getText("/response/trackbackCount"))}catch(e){}try{obj=document.getElementById("recentTrackbacks"),null!=obj&&(obj.innerHTML=this.getText("/response/recentTrackbacks"))}catch(e){}},t.onError=function(){alert(messages.operationFailed)},t.send()}}function changeVisibility(e,n){if(doesHaveOwnership){var t=new HTTPRequest("GET",blogURL+"/owner/entry/visibility/"+e+"?visibility="+n);t.onSuccess=function(){window.location.reload()},t.send()}}function deleteEntry(e){if(doesHaveOwnership&&confirm(messages.confirmEntryDelete)){var n=new HTTPRequest("GET",blogURL+"/owner/entry/delete/"+e),t=blogURL;(null==blogURL||blogURL.length<=0)&&(t="/"),n.onSuccess=function(){window.location.href=t},n.send()}}function reloadEntry(e){var n=document.getElementById("entry"+e+"password");n||(passwords=document.getElementsByName("entry"+e+"password"),null!=passwords&&passwords.Count>0&&(n=passwords)),n&&(document.cookie=cookie_prefix+"GUEST_PASSWORD="+escape(n.value)+";path="+servicePath,window.location.href=window.location.href)}function thisMovie(e){return-1!=navigator.appName.indexOf("Microsoft")?window[e]:document[e]}function copyUrl(e,n){try{window.clipboardData.setData("Text",e),window.alert(messages.trackbackUrlCopied)}catch(t){s=window.getSelection();var i=document.createRange();i.setStartBefore(n),i.setEndAfter(n),s.addRange(i)}}function onClipBoard(e){alert(e?messages.trackbackUrlCopied:messages.operationFailed)}var sUserAgent=navigator.userAgent,fAppVersion=parseFloat(navigator.appVersion),isOpera=sUserAgent.indexOf("Opera")>-1,isMinOpera4=isMinOpera5=isMinOpera6=isMinOpera7=isMinOpera7_5=!1;if(isOpera){var fOperaVersion;if("Opera"==navigator.appName)fOperaVersion=fAppVersion;else{var reOperaVersion=new RegExp("Opera (\\d+\\.\\d+)");reOperaVersion.test(sUserAgent),fOperaVersion=parseFloat(RegExp.$1)}isMinOpera4=fOperaVersion>=4,isMinOpera5=fOperaVersion>=5,isMinOpera6=fOperaVersion>=6,isMinOpera7=fOperaVersion>=7,isMinOpera7_5=fOperaVersion>=7.5}var isKHTML=sUserAgent.indexOf("KHTML")>-1||sUserAgent.indexOf("Konqueror")>-1||sUserAgent.indexOf("AppleWebKit")>-1,isMinSafari1=isMinSafari1_2=!1,isMinKonq2_2=isMinKonq3=isMinKonq3_1=isMinKonq3_2=!1,isSafari=!1;if(isKHTML)if(isSafari=sUserAgent.indexOf("AppleWebKit")>-1,isKonq=sUserAgent.indexOf("Konqueror")>-1,isSafari){var reAppleWebKit=new RegExp("AppleWebKit\\/(\\d+(?:\\.\\d*)?)");reAppleWebKit.test(sUserAgent);var fAppleWebKitVersion=parseFloat(RegExp.$1);isMinSafari1=fAppleWebKitVersion>=85,isMinSafari1_2=fAppleWebKitVersion>=124,isMinSafari3=fAppleWebKitVersion>=510}else if(isKonq){var reKonq=new RegExp("Konqueror\\/(\\d+(?:\\.\\d+(?:\\.\\d)?)?)");reKonq.test(sUserAgent),isMinKonq2_2=compareVersions(RegExp.$1,"2.2")>=0,isMinKonq3=compareVersions(RegExp.$1,"3.0")>=0,isMinKonq3_1=compareVersions(RegExp.$1,"3.1")>=0,isMinKonq3_2=compareVersions(RegExp.$1,"3.2")>=0}var isIE=sUserAgent.indexOf("compatible")>-1&&sUserAgent.indexOf("MSIE")>-1&&!isOpera,isMinIE4=isMinIE5=isMinIE5_5=isMinIE6=!1,isMinIE7=isMinIE8=isMinIE9=isMinIE10=isMinIE11=!1;if(isIE){var reIE=new RegExp("MSIE (\\d+\\.\\d+);");reIE.test(sUserAgent);var fIEVersion=parseFloat(RegExp.$1);isMinIE4=fIEVersion>=4,isMinIE5=fIEVersion>=5,isMinIE5_5=fIEVersion>=5.5,isMinIE6=fIEVersion>=6,isMinIE7=fIEVersion>=7,isMinIE8=fIEVersion>=8,isMinIE9=fIEVersion>=9,isMinIE10=fIEVersion>=10,isMinIE11=fIEVersion>=11}var isMoz=sUserAgent.indexOf("Gecko")>-1&&!isKHTML,isMinMoz1=sMinMoz1_4=isMinMoz1_5=!1;if(isMoz){var reMoz=new RegExp("rv:(\\d+\\.\\d+(?:\\.\\d+)?)");reMoz.test(sUserAgent),isMinMoz1=compareVersions(RegExp.$1,"1.0")>=0,isMinMoz1_4=compareVersions(RegExp.$1,"1.4")>=0,isMinMoz1_5=compareVersions(RegExp.$1,"1.5")>=0}var isNS4=!isIE&&!isOpera&&!isMoz&&!isKHTML&&0==sUserAgent.indexOf("Mozilla")&&"Netscape"==navigator.appName&&fAppVersion>=4&&5>fAppVersion,isMinNS4=isMinNS4_5=isMinNS4_7=isMinNS4_8=!1;isNS4&&(isMinNS4=!0,isMinNS4_5=fAppVersion>=4.5,isMinNS4_7=fAppVersion>=4.7,isMinNS4_8=fAppVersion>=4.8);var isWin="Win32"==navigator.platform||"Windows"==navigator.platform,isMac="Mac68K"==navigator.platform||"MacPPC"==navigator.platform||"Macintosh"==navigator.platform,isUnix="X11"==navigator.platform&&!isWin&&!isMac,isWin95=isWin98=isWinNT4=isWin2K=isWinME=isWinXP=!1,isWinVista=isWin7=isWin8=isWin81=isWin10=isWinNT4=!1,isMac68K=isMacPPC=!1,isSunOS=isMinSunOS4=isMinSunOS5=isMinSunOS5_5=!1;if(isWin&&(isWin95=sUserAgent.indexOf("Win95")>-1||sUserAgent.indexOf("Windows 95")>-1,isWin98=sUserAgent.indexOf("Win98")>-1||sUserAgent.indexOf("Windows 98")>-1,isWinME=sUserAgent.indexOf("Win 9x 4.90")>-1||sUserAgent.indexOf("Windows ME")>-1,isWin2K=sUserAgent.indexOf("Windows NT 5.0")>-1||sUserAgent.indexOf("Windows 2000")>-1,isWinXP=sUserAgent.indexOf("Windows NT 5.1")>-1||sUserAgent.indexOf("Windows XP")>-1,isWinVista=sUserAgent.indexOf("Windows NT 6.0")>-1,isWin7=sUserAgent.indexOf("Windows NT 6.1")>-1,isWin8=sUserAgent.indexOf("Windows NT 6.2")>-1,isWin8_1=sUserAgent.indexOf("Windows NT 6.3")>-1,isWin10=sUserAgent.indexOf("Windows NT 10.0")>-1,isWinNT4=sUserAgent.indexOf("WinNT")>-1||sUserAgent.indexOf("Windows NT")>-1||sUserAgent.indexOf("WinNT4.0")>-1||sUserAgent.indexOf("Windows NT 4.0")>-1&&!isWinME&&!isWin2K&&!isWinXP),isMac&&(isMac68K=sUserAgent.indexOf("Mac_68000")>-1||sUserAgent.indexOf("68K")>-1,isMacPPC=sUserAgent.indexOf("Mac_PowerPC")>-1||sUserAgent.indexOf("PPC")>-1),isUnix&&(isSunOS=sUserAgent.indexOf("SunOS")>-1)){var reSunOS=new RegExp("SunOS (\\d+\\.\\d+(?:\\.\\d+)?)");reSunOS.test(sUserAgent),isMinSunOS4=compareVersions(RegExp.$1,"4.0")>=0,isMinSunOS5=compareVersions(RegExp.$1,"5.0")>=0,isMinSunOS5_5=compareVersions(RegExp.$1,"5.5")>=0}var oProgress=null;isMoz&&(XMLDocument.prototype.selectNodes=function(e){for(var n=new XPathEvaluator,t=n.evaluate(e,this,null,XPathResult.ORDERER_NODE_ITERATOR_TYPE,null),i=new Array,o=t.iterateNext();o;)i[o.nodeName]=o.firstChild.nodeValue,o=t.iterateNext();return i},XMLDocument.prototype.selectSingleNode=function(e){var n=new XPathEvaluator,t=n.evaluate(e,this,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null);return t.singleNodeValue},Node.prototype.__defineGetter__("xml",function(){var e=new XMLSerializer;return e.serializeToString(this,"text/xml")}));var loading=!1,StringBuffer=function(){this.buffer=new Array};StringBuffer.prototype.append=function(e){this.buffer[this.buffer.length]=e},StringBuffer.prototype.toString=function(){return this.buffer.join("")},Array.prototype.push||(Array.prototype.push=function(){for(var e=this.length,n=0;n<arguments.length;n++)this[e+n]=arguments[n];return this.length}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(new RegExp("(^\\s*)|(\\s*$)","g"),"")}),String.prototype.replaceAll||(String.prototype.replaceAll=function(e,n){return e=e.replace(new RegExp("(\\W)","g"),"\\$1"),n=n.replace(new RegExp("\\$","g"),"$$$$"),this.replace(new RegExp(e,"gm"),n)}),String.prototype.count||(String.prototype.count=function(e){if("string"==typeof e)var n=this.match(new RegExp(e.replace(new RegExp("(\\W)","g"),"\\$1"),"g"));else var n=this.match(e);return n?n.length:0}),String.prototype.indexOfCaseInsensitive||(String.prototype.indexOfCaseInsensitive=function(e,n){var t="undefined"==typeof n?this:this.substring(n,this.length),i="string"==typeof e?new RegExp(e.replace(new RegExp("(\\W)","g"),"\\$1"),"i").exec(t):e.exec(t);return i?i.index+("number"==typeof n?n:0):-1});var commentSavingNow=!1,openWindow="",tcDialog,tcDialogFrame;